{"version":3,"sources":["components/SearchBar/Searchbar.js","components/services/pixabay.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","App.js","index.js"],"names":["SearchBar","state","imageName","handleSubmit","e","preventDefault","trim","props","searchProp","setState","toast","error","handleChange","currentTarget","value","toLowerCase","className","onSubmit","this","type","placeholder","onChange","Component","fetchImages","query","page","api_key","fetch","then","response","json","data","hits","GalleryItem","image","onImageClick","src","webformatURL","alt","tags","onClick","largeImageURL","propType","PropTypes","shape","string","func","Button","App","loading","showMoadl","fetchApi","scrollOnLoadButton","catch","finally","handleSearch","handleGalleryLargeItem","largeImage","showModal","toggleModal","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","pervProps","showMore","length","autoClose","map","el","id","Oval","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fd3ae108.chunk.js","sourcesContent":["import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class SearchBar extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageName.trim() === '') {\n      toast.error('Input image name');\n      return;\n    }\n    this.props.searchProp(this.state.imageName);\n    this.setState({ imageName: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images\"\n            value={this.state.imageName}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","export default function fetchImages(query = '', page = 1) {\n  const api_key = '23006956-b96a6e3eefb63390e039a3023';\n\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=${api_key}&image_type=photo&orientation=horizontal&per_page=12\n  `)\n    .then(response => response.json())\n    .then(data => data.hits);\n}\n","import PropTypes from 'prop-types';\n\nexport default function GalleryItem({ image, onImageClick }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => onImageClick(image.largeImageURL)}\n      />\n    </li>\n  );\n}\n\nGalleryItem.propType = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string,\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n  }),\n  onImageClick: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  <div>\r\n    <button type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  </div>;\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport LoadingIcons from 'react-loading-icons';\nimport './App.css';\nimport SearchBar from './components/SearchBar/Searchbar';\nimport fetchImages from './components/services/pixabay';\nimport GalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\n// import ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\n\nexport default class App extends Component {\n  state = {\n    data: [],\n    query: '',\n    page: 1,\n    loading: false,\n    showMoadl: false,\n    error: null,\n  };\n\n  componentDidUpdate(pervProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchApi();\n    }\n  }\n\n  fetchApi = () => {\n    this.setState({ loading: true });\n    fetchImages(this.state.query, this.state.page)\n      .then(data => {\n        this.setState(state => ({\n          data: [...state.data, ...data],\n          page: state.page + 1,\n        }));\n        if (this.state.page !== 1) {\n          this.scrollOnLoadButton();\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearch = query => {\n    this.setState({\n      query,\n      page: 1,\n      data: [],\n    });\n  };\n\n  handleGalleryLargeItem = largeImageURL => {\n    this.setState({\n      largeImage: largeImageURL,\n      showModal: true,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeImage: '',\n    }));\n  };\n\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const showMore = this.state.data.length > 0 && this.state.data.length >= 12;\n    return (\n      <>\n        <SearchBar searchProp={this.handleSearch} />\n        <ToastContainer autoClose={3000} />\n\n        <>\n          <ul className=\"ImageGallery\">\n            {this.state.data.map(el => {\n              return (\n                <GalleryItem\n                  key={el.id}\n                  image={el}\n                  onImageClick={this.handleGalleryLargeItem}\n                />\n              );\n            })}\n          </ul>\n        </>\n\n        {/* <ImageGallery\n          data={this.state.data}\n          onImageClick={this.handleGalleryLargeItem}\n        /> */}\n        {this.state.loading && <LoadingIcons.Oval />}\n        {showMore && <Button onClick={this.fetchApi} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}